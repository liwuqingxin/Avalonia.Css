<UserControl x:Class="Nlnet.Avalonia.Css.App.Views.Pages.DataGridPage"
             xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:app="clr-namespace:Nlnet.Avalonia.Css.App"
             xmlns:global="clr-namespace:"
             xmlns:test="clr-namespace:HS.IMF.BaseControls.Gallery.Test"
             d:DesignHeight="450"
             d:DesignWidth="800"
             mc:Ignorable="d">

    <UserControl.Resources>
        <!-- ReSharper disable once InconsistentNaming -->
        <app:GDPValueConverter x:Key="GDPConverter" />
        <DataTemplate x:Key="Demo.DataTemplates.CountryHeader" x:DataType="global:Country">
            <StackPanel Orientation="Horizontal" Spacing="5">
                <PathIcon Height="12"
                          Data="M 255 116 A 1 1 0 0 0 254 117 L 254 130 A 1 1 0 0 0 255 131 A 1 1 0 0 0 256 130 L 256 123.87109 C 256.1125 123.90694 256.2187 123.94195 256.33984 123.97852 C 257.18636 124.23404 258.19155 124.5 259 124.5 C 259.80845 124.5 260.52133 124.2168 261.17773 123.9668 C 261.83414 123.7168 262.43408 123.5 263 123.5 C 263.56592 123.5 264.5612 123.73404 265.37109 123.97852 C 266.18098 124.22299 266.82227 124.4668 266.82227 124.4668 A 0.50005 0.50005 0 0 0 267.5 124 L 267.5 118 A 0.50005 0.50005 0 0 0 267.17773 117.5332 C 267.17773 117.5332 266.50667 117.27701 265.66016 117.02148 C 264.81364 116.76596 263.80845 116.5 263 116.5 C 262.19155 116.5 261.47867 116.7832 260.82227 117.0332 C 260.16586 117.2832 259.56592 117.5 259 117.5 C 258.43408 117.5 257.4388 117.26596 256.62891 117.02148 C 256.39123 116.94974 256.17716 116.87994 255.98047 116.81445 A 1 1 0 0 0 255 116 z M 263 117.5 C 263.56592 117.5 264.5612 117.73404 265.37109 117.97852 C 266.00097 118.16865 266.29646 118.28239 266.5 118.35742 L 266.5 120.29297 C 266.25708 120.21012 265.97978 120.11797 265.66016 120.02148 C 264.81364 119.76596 263.80845 119.5 263 119.5 C 262.19155 119.5 261.47867 119.7832 260.82227 120.0332 C 260.16586 120.2832 259.56592 120.5 259 120.5 C 258.43408 120.5 257.4388 120.26596 256.62891 120.02148 C 256.39971 119.9523 256.19148 119.88388 256 119.82031 L 256 117.87109 C 256.1125 117.90694 256.2187 117.94195 256.33984 117.97852 C 257.18636 118.23404 258.19155 118.5 259 118.5 C 259.80845 118.5 260.52133 118.2168 261.17773 117.9668 C 261.83414 117.7168 262.43408 117.5 263 117.5 z M 263 120.5 C 263.56592 120.5 264.5612 120.73404 265.37109 120.97852 C 265.8714 121.12954 266.2398 121.25641 266.5 121.34961 L 266.5 123.30469 C 266.22286 123.20649 266.12863 123.1629 265.66016 123.02148 C 264.81364 122.76596 263.80845 122.5 263 122.5 C 262.19155 122.5 261.47867 122.7832 260.82227 123.0332 C 260.16586 123.2832 259.56592 123.5 259 123.5 C 258.43408 123.5 257.4388 123.26596 256.62891 123.02148 C 256.39971 122.9523 256.19148 122.88388 256 122.82031 L 256 120.87109 C 256.1125 120.90694 256.2187 120.94195 256.33984 120.97852 C 257.18636 121.23404 258.19155 121.5 259 121.5 C 259.80845 121.5 260.52133 121.2168 261.17773 120.9668 C 261.83414 120.7168 262.43408 120.5 263 120.5 z" />
                <TextBlock Text="{Binding}" />
            </StackPanel>
        </DataTemplate>
        <!-- ReSharper disable once InconsistentNaming -->
        <ControlTheme x:Key="GDPCell"
                      x:DataType="global:Country"
                      BasedOn="{StaticResource {x:Type DataGridCell}}"
                      TargetType="DataGridCell">
            <Design.DataContext>
                <global:Country />
            </Design.DataContext>
            <Setter Property="DataGridCell.Background"
                    Value="{Binding Path=GDP, Mode=OneWay, Converter={StaticResource GDPConverter}}" />
        </ControlTheme>
    </UserControl.Resources>

    <StackPanel>
        <TextBlock x:Name="PageDescription"
                   Text="The DataGrid control provides a flexible way to display a collection of data in rows and columns. The built-in column types include a text column,a check box column,and a template column for hosting custom content.The built-in row type includes a drop-down details section that you can use to display additional content below the cell values. The DataGrid control supports common table formatting options,such as alternating row backgrounds and foregrounds and the ability to show or hide headers,grid lines,and scroll bars.Additionally,the control provides several style and template properties that you can use to completely change the appearance of the control and its rows,columns,cells,and row or column headers."
                   TextWrapping="Wrap" />

        <app:IndependentCase Header="Normal DataContext.">
            <DataGrid Name="DataGrid1"
                      Height="400"
                      ItemsSource="{x:Static test:CountriesProvider.Countries}"
                      IsReadOnly="False"
                      RowDetailsVisibilityMode="VisibleWhenSelected"
                      UseLayoutRounding="False">
                <Design.DataContext>
                    <global:Country />
                </Design.DataContext>

                <DataGrid.Columns>
                    <!-- Using HeaderTemplate -->
                    <!-- <DataGridCheckBoxColumn Binding="{Binding Path=IsChecked}" Header="Is Checked" /> -->
                    <DataGridTextColumn Width="150"
                                        x:DataType="global:Country"
                                        Binding="{Binding Name}"
                                        Header="Country"
                                        HeaderTemplate="{StaticResource Demo.DataTemplates.CountryHeader}" />
                    <DataGridTextColumn Width="150"
                                        x:DataType="global:Country"
                                        Binding="{CompiledBinding Region}"
                                        Header="Region" />
                    <DataGridTextColumn Width="220"
                                        x:DataType="global:Country"
                                        Binding="{Binding Population}"
                                        Header="Population" />
                    <DataGridTextColumn Width="220"
                                        x:DataType="global:Country"
                                        Binding="{Binding Area}"
                                        Header="Area" />
                    <DataGridTextColumn Width="250"
                                        x:DataType="global:Country"
                                        Binding="{Binding GDP}"
                                        CellTheme="{StaticResource GDPCell}"
                                        Header="GDP" />
                </DataGrid.Columns>

                <DataGrid.Styles>
                    <Style Selector="DataGridCell:nth-child(1)">
                        <Setter Property="DataGridCell.FontWeight" Value="Bold" />
                        <Setter Property="DataGridCell.FontStyle" Value="Italic" />
                    </Style>
                    <Style Selector="DataGridColumnHeader:nth-child(1)">
                        <Setter Property="DataGridColumnHeader.FontWeight" Value="Bold" />
                        <Setter Property="DataGridColumnHeader.FontStyle" Value="Italic" />
                    </Style>
                </DataGrid.Styles>

                <DataGrid.RowDetailsTemplate>
                    <DataTemplate DataType="global:Country">
                        <Border>
                            <StackPanel Margin="4">
                                <TextBlock FontSize="16" Text="{Binding Path=Name, StringFormat=Name:{0}}" />
                                <TextBlock FontSize="16" Text="{Binding Path=GDP, StringFormat=GDP:{0}}" />
                                <TextBlock FontSize="16" Text="{Binding Path=Area, StringFormat=Area:{0}}" />
                            </StackPanel>
                        </Border>
                    </DataTemplate>
                </DataGrid.RowDetailsTemplate>

                <DataGrid.CellTheme>
                    <ControlTheme BasedOn="{StaticResource {x:Type DataGridCell}}" TargetType="DataGridCell">
                        <Style Selector="^:nth-child(1)">
                            <Setter Property="FontWeight" Value="Bold" />
                        </Style>
                    </ControlTheme>
                </DataGrid.CellTheme>

                <DataGrid.ColumnHeaderTheme>
                    <ControlTheme BasedOn="{StaticResource {x:Type DataGridColumnHeader}}"
                                  TargetType="DataGridColumnHeader">
                        <Style Selector="^:nth-child(1)">
                            <Setter Property="FontWeight" Value="Bold" />
                        </Style>
                    </ControlTheme>
                </DataGrid.ColumnHeaderTheme>

            </DataGrid>
        </app:IndependentCase>

    </StackPanel>

</UserControl>